<div class="d-flex justify-content-center align-items-center outer-div position-relative">
  <form class="d-flex p-4" #f="ngForm" (ngSubmit)="register(f)">
    <input class="form-control" type="text" placeholder="Username*" ngModel #username="ngModel" required name="username" [ngClass]="{'error': existingUsername}" (click)="resetInput(1)">
    <p class="mb-0 error-p" *ngIf="existingUsername">Username già in uso</p>

    <input class="form-control" type="email" placeholder="Email*" ngModel #email="ngModel" [pattern]="emailRegex" required name="email" [ngClass]="{'error': existingEmail, 'existing': existingUsername}" (click)="resetInput(2)">
    <p class="mb-0 error-p" *ngIf="existingEmail">Email già in uso</p>

    <input class="form-control" type="password" placeholder="Password* (4-18 caratteri)" ngModel #password="ngModel" [pattern]="passwordRegex" required name="password" [ngClass]="{'existing': existingEmail}">

    <div class="d-flex">
      <button class="btn btn-primary" [disabled]="f.invalid">REGISTRATI</button>
      <p class="text-white mb-0">Sei già registrato? <a routerLink="/auth/login" class="text-white">Login</a></p>
    </div>
  </form>

  <div class="alert text-white position-absolute error-message" *ngIf="error">Si è verificato un errore</div>

  <div class="position-absolute d-flex justify-content-center align-items-center loader-div" *ngIf="loading">
    <div class="spinner-border text-primary loader" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
